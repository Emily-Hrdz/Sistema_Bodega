import{a as N}from"./chunk-GANOPUXI.js";import{b as T,c as p,d as q,e as k,f as z,h as D,i as G,o as L,p as V}from"./chunk-KK4GU3FI.js";import"./chunk-YCMZOG5D.js";import{e as O,f as I,j as R}from"./chunk-3IEEZZYB.js";import{Fa as S,Ib as E,Ja as d,Kb as y,Ua as m,Va as i,Wa as r,Xa as u,ab as M,bb as g,c as w,fb as c,hb as l,jb as F,ua as o,za as h}from"./chunk-BGDAOEK3.js";function A(t,a){t&1&&(i(0,"span"),l(1,"El nombre es requerido"),r())}function B(t,a){if(t&1&&(i(0,"div",17),d(1,A,2,0,"span",18),r()),t&2){let n,e=g();o(),m("ngIf",(n=e.registerForm.get("nombre"))==null||n.errors==null?null:n.errors.required)}}function Y(t,a){t&1&&(i(0,"span"),l(1,"El email es requerido"),r())}function J(t,a){t&1&&(i(0,"span"),l(1,"Email inv\xE1lido"),r())}function K(t,a){if(t&1&&(i(0,"div",17),d(1,Y,2,0,"span",18)(2,J,2,0,"span",18),r()),t&2){let n,e,s=g();o(),m("ngIf",(n=s.registerForm.get("email"))==null||n.errors==null?null:n.errors.required),o(),m("ngIf",(e=s.registerForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function H(t,a){t&1&&(i(0,"span"),l(1,"La contrase\xF1a es requerida"),r())}function Q(t,a){t&1&&(i(0,"span"),l(1,"M\xEDnimo 6 caracteres"),r())}function U(t,a){if(t&1&&(i(0,"div",17),d(1,H,2,0,"span",18)(2,Q,2,0,"span",18),r()),t&2){let n,e,s=g();o(),m("ngIf",(n=s.registerForm.get("password"))==null||n.errors==null?null:n.errors.required),o(),m("ngIf",(e=s.registerForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}function W(t,a){t&1&&(i(0,"div",17),l(1," Las contrase\xF1as no coinciden "),r())}function X(t,a){if(t&1&&(i(0,"div",17),l(1),r()),t&2){let n=g();o(),F(" ",n.error," ")}}var j=class t{constructor(a,n,e){this.fb=a;this.authService=n;this.router=e;this.registerForm=this.fb.group({nombre:["",[p.required,p.maxLength(200)]],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",[p.required]]},{validators:this.passwordMatchValidator})}registerForm;loading=!1;error="";passwordMatchValidator(a){return a.get("password")?.value===a.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){if(this.registerForm.invalid)return;this.loading=!0,this.error="";let e=this.registerForm.value,{confirmPassword:a}=e,n=w(e,["confirmPassword"]);this.authService.register(n).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:s=>{this.error=s.error?.message||"Error al registrar usuario",this.loading=!1}})}static \u0275fac=function(n){return new(n||t)(h(L),h(N),h(O))};static \u0275cmp=S({type:t,selectors:[["app-register"]],decls:35,vars:16,consts:[[1,"register-container"],[1,"register-card"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["id","nombre","type","text","formControlName","nombre","placeholder","Juan P\xE9rez"],["class","error-message",4,"ngIf"],["for","email"],["id","email","type","email","formControlName","email","placeholder","tu@email.com"],["for","password"],["id","password","type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["for","confirmPassword"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["type","submit",1,"btn-primary",3,"disabled"],[1,"login-link"],["routerLink","/login"],[1,"error-message"],[4,"ngIf"]],template:function(n,e){if(n&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),l(3,"Crear Cuenta"),r(),i(4,"p",2),l(5,"Sistema de Inventario Kardex"),r(),i(6,"form",3),M("ngSubmit",function(){return e.onSubmit()}),i(7,"div",4)(8,"label",5),l(9,"Nombre Completo"),r(),u(10,"input",6),d(11,B,2,1,"div",7),r(),i(12,"div",4)(13,"label",8),l(14,"Email"),r(),u(15,"input",9),d(16,K,3,2,"div",7),r(),i(17,"div",4)(18,"label",10),l(19,"Contrase\xF1a"),r(),u(20,"input",11),d(21,U,3,2,"div",7),r(),i(22,"div",4)(23,"label",12),l(24,"Confirmar Contrase\xF1a"),r(),u(25,"input",13),d(26,W,2,0,"div",7),r(),d(27,X,2,1,"div",7),i(28,"button",14),l(29),r()(),i(30,"div",15)(31,"p"),l(32,"\xBFYa tienes cuenta? "),i(33,"a",16),l(34,"Inicia sesi\xF3n aqu\xED"),r()()()()()),n&2){let s,f,_,v,C,b,x,P;o(6),m("formGroup",e.registerForm),o(4),c("error",((s=e.registerForm.get("nombre"))==null?null:s.invalid)&&((s=e.registerForm.get("nombre"))==null?null:s.touched)),o(),m("ngIf",((f=e.registerForm.get("nombre"))==null?null:f.invalid)&&((f=e.registerForm.get("nombre"))==null?null:f.touched)),o(4),c("error",((_=e.registerForm.get("email"))==null?null:_.invalid)&&((_=e.registerForm.get("email"))==null?null:_.touched)),o(),m("ngIf",((v=e.registerForm.get("email"))==null?null:v.invalid)&&((v=e.registerForm.get("email"))==null?null:v.touched)),o(4),c("error",((C=e.registerForm.get("password"))==null?null:C.invalid)&&((C=e.registerForm.get("password"))==null?null:C.touched)),o(),m("ngIf",((b=e.registerForm.get("password"))==null?null:b.invalid)&&((b=e.registerForm.get("password"))==null?null:b.touched)),o(4),c("error",((x=e.registerForm.get("confirmPassword"))==null?null:x.invalid)&&((x=e.registerForm.get("confirmPassword"))==null?null:x.touched)),o(),m("ngIf",(e.registerForm.errors==null?null:e.registerForm.errors.mismatch)&&((P=e.registerForm.get("confirmPassword"))==null?null:P.touched)),o(),m("ngIf",e.error),o(),m("disabled",e.registerForm.invalid||e.loading),o(),F(" ",e.loading?"Registrando...":"Crear Cuenta"," ")}},dependencies:[y,E,V,z,T,q,k,D,G,R,I],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px;width:100%;max-width:400px;box-shadow:0 10px 40px #0000001a}.register-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-size:28px;color:#333;text-align:center}.register-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0 0 32px;color:#666;text-align:center;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#e74c3c}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;margin-top:8px}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-link[_ngcontent-%COMP%]{margin-top:24px;text-align:center;font-size:14px;color:#666}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{j as RegisterComponent};
