import{a as y}from"./chunk-RW53AKBM.js";import"./chunk-YCMZOG5D.js";import{f as I,j as L}from"./chunk-3IEEZZYB.js";import{$a as b,Fa as x,Hb as P,Ib as h,Ja as m,Kb as C,Ua as a,Va as e,Wa as t,Y as u,Z as v,ab as g,bb as s,gb as _,hb as o,ib as c,jb as E,mb as S,nb as p,ua as r,za as f}from"./chunk-BGDAOEK3.js";var M=()=>["/productos","nuevo"],N=n=>["/productos",n],O=n=>["/productos",n,"edit"];function w(n,d){n&1&&(e(0,"div",7),o(1,"Cargando..."),t())}function A(n,d){if(n&1&&(e(0,"div",8),o(1),t()),n&2){let i=s();r(),c(i.error)}}function V(n,d){if(n&1){let i=b();e(0,"tr")(1,"td"),o(2),t(),e(3,"td"),o(4),t(),e(5,"td"),o(6),t(),e(7,"td"),o(8),t(),e(9,"td")(10,"span"),o(11),t()(),e(12,"td")(13,"button",12),o(14," Ver "),t(),e(15,"button",13),o(16," Editar "),t(),e(17,"button",14),g("click",function(){let F=u(i).$implicit,T=s(2);return v(T.deleteProducto(F.id))}),o(18," Eliminar "),t()()()}if(n&2){let i=d.$implicit;r(2),c(i.codigo),r(2),c(i.nombre),r(2),c((i.tipoProducto==null?null:i.tipoProducto.nombre)||"-"),r(2),c(i.unidadMedida),r(2),_(i.activo?"badge-success":"badge-danger"),r(),E(" ",i.activo?"Activo":"Inactivo"," "),r(2),a("routerLink",p(9,N,i.id)),r(2),a("routerLink",p(11,O,i.id))}}function D(n,d){if(n&1&&(e(0,"div",9)(1,"table",10)(2,"thead")(3,"tr")(4,"th"),o(5,"C\xF3digo"),t(),e(6,"th"),o(7,"Nombre"),t(),e(8,"th"),o(9,"Tipo"),t(),e(10,"th"),o(11,"Unidad"),t(),e(12,"th"),o(13,"Estado"),t(),e(14,"th"),o(15,"Acciones"),t()()(),e(16,"tbody"),m(17,V,19,13,"tr",11),t()()()),n&2){let i=s();r(17),a("ngForOf",i.productos)}}var k=class n{constructor(d){this.productoService=d}productos=[];loading=!1;error=null;ngOnInit(){this.loadProductos()}loadProductos(){this.loading=!0,this.productoService.getAll().subscribe({next:d=>{this.productos=d,this.loading=!1},error:d=>{this.error="Error al cargar productos",this.loading=!1,console.error(d)}})}deleteProducto(d){confirm("\xBFEst\xE1 seguro de eliminar este producto?")&&this.productoService.delete(d).subscribe({next:()=>{this.loadProductos()},error:i=>{this.error="Error al eliminar producto",console.error(i)}})}static \u0275fac=function(i){return new(i||n)(f(y))};static \u0275cmp=x({type:n,selectors:[["app-productos-list"]],decls:15,vars:5,consts:[[1,"container"],[1,"header"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],["routerLink","/tipos-producto",1,"btn","btn-sm","btn-primary"],["class","loading",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"loading"],[1,"alert","alert-error"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-info",3,"routerLink"],[1,"btn","btn-sm","btn-warning",3,"routerLink"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(i,l){i&1&&(e(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Productos"),t(),e(4,"button",2),o(5," Nuevo Producto "),t(),e(6,"p"),o(7,"Administra los tipos de producto de tu inventario."),t(),e(8,"h2"),o(9,"Tipos de Producto "),t(),e(10,"button",3),o(11," Crear Tipo de Producto "),t()(),m(12,w,2,0,"div",4)(13,A,2,1,"div",5)(14,D,18,1,"div",6),t()),i&2&&(r(4),a("routerLink",S(4,M)),r(8),a("ngIf",l.loading),r(),a("ngIf",l.error),r(),a("ngIf",!l.loading&&!l.error))},dependencies:[C,P,h,L,I],encapsulation:2})};export{k as ProductosListComponent};
