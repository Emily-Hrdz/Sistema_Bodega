import{a as I}from"./chunk-V36QIO3V.js";import"./chunk-YCMZOG5D.js";import{e as S}from"./chunk-3IEEZZYB.js";import{$a as T,Fa as M,Hb as E,Ib as C,Ja as f,Kb as h,Ua as l,Va as i,Wa as e,Y as g,Z as u,ab as d,bb as s,gb as x,hb as o,ib as p,jb as b,ua as a,za as _}from"./chunk-BGDAOEK3.js";function L(r,n){if(r&1&&(i(0,"div",7),o(1),e()),r&2){let t=s();a(),p(t.error)}}function k(r,n){r&1&&(i(0,"div",8),o(1,"Cargando..."),e())}function N(r,n){r&1&&(i(0,"div",9),o(1," No hay tipos de movimiento registrados "),e())}function w(r,n){if(r&1){let t=T();i(0,"tr")(1,"td"),o(2),e(),i(3,"td"),o(4),e(),i(5,"td")(6,"span"),o(7),e()(),i(8,"td"),o(9),e(),i(10,"td")(11,"span"),o(12),e()(),i(13,"td",12)(14,"button",13),d("click",function(){let c=g(t).$implicit,v=s(2);return u(v.onEdit(c.id))}),o(15," Editar "),e(),i(16,"button",14),d("click",function(){let c=g(t).$implicit,v=s(2);return u(v.onDelete(c.id))}),o(17," Eliminar "),e()()()}if(r&2){let t=n.$implicit,m=s(2);a(2),p(t.codigo),a(2),p(t.nombre),a(2),x(m.getTipoClass(t.tipo)),a(),b(" ",t.tipo," "),a(2),p(t.descripcion||"-"),a(2),x(t.activo?"badge-success":"badge-danger"),a(),b(" ",t.activo?"Activo":"Inactivo"," ")}}function D(r,n){if(r&1&&(i(0,"table",10)(1,"thead")(2,"tr")(3,"th"),o(4,"C\xF3digo"),e(),i(5,"th"),o(6,"Nombre"),e(),i(7,"th"),o(8,"Tipo"),e(),i(9,"th"),o(10,"Descripci\xF3n"),e(),i(11,"th"),o(12,"Estado"),e(),i(13,"th"),o(14,"Acciones"),e()()(),i(15,"tbody"),f(16,w,18,9,"tr",11),e()()),r&2){let t=s();a(16),l("ngForOf",t.tiposMovimiento)}}var y=class r{constructor(n,t){this.tipoMovimientoService=n;this.router=t}tiposMovimiento=[];loading=!1;error=null;ngOnInit(){this.loadTiposMovimiento()}loadTiposMovimiento(){this.loading=!0,this.tipoMovimientoService.getAll().subscribe({next:n=>{this.tiposMovimiento=n,this.loading=!1},error:n=>{this.error="Error al cargar tipos de movimiento",this.loading=!1,console.error(n)}})}onCreate(){this.router.navigate(["/tipos-movimiento/nuevo"])}onEdit(n){this.router.navigate(["/tipos-movimiento",n,"edit"])}onDelete(n){confirm("\xBFEst\xE1 seguro de eliminar este tipo de movimiento?")&&this.tipoMovimientoService.delete(n).subscribe({next:()=>{this.loadTiposMovimiento()},error:t=>{this.error="Error al eliminar tipo de movimiento",console.error(t)}})}getTipoClass(n){return n==="ENTRADA"?"badge-success":"badge-danger"}static \u0275fac=function(t){return new(t||r)(_(I),_(S))};static \u0275cmp=M({type:r,selectors:[["app-tipo-movimiento-list"]],decls:10,vars:4,consts:[[1,"container"],[1,"header"],[1,"btn","btn-primary",3,"click"],["class","alert alert-error",4,"ngIf"],["class","loading",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","table",4,"ngIf"],[1,"alert","alert-error"],[1,"loading"],[1,"empty-state"],[1,"table"],[4,"ngFor","ngForOf"],[1,"actions"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,m){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Tipos de Movimiento"),e(),i(4,"button",2),d("click",function(){return m.onCreate()}),o(5," Nuevo Tipo de Movimiento "),e()(),f(6,L,2,1,"div",3)(7,k,2,0,"div",4)(8,N,2,0,"div",5)(9,D,17,1,"table",6),e()),t&2&&(a(6),l("ngIf",m.error),a(),l("ngIf",m.loading),a(),l("ngIf",!m.loading&&m.tiposMovimiento.length===0),a(),l("ngIf",!m.loading&&m.tiposMovimiento.length>0))},dependencies:[h,E,C],encapsulation:2})};export{y as TipoMovimientoListComponent};
