import{a as y}from"./chunk-KNIFDPGD.js";import"./chunk-YCMZOG5D.js";import{f as C,j as L}from"./chunk-3IEEZZYB.js";import{$a as f,Fa as v,Hb as B,Ib as h,Ja as m,Kb as I,Ua as d,Va as i,Wa as t,Y as p,Z as b,ab as x,bb as c,gb as _,hb as o,ib as l,jb as E,mb as S,nb as g,ua as r,za as u}from"./chunk-BGDAOEK3.js";var O=()=>["/bodegas","nuevo"],T=n=>["/bodegas",n],w=n=>["/bodegas",n,"edit"];function M(n,a){n&1&&(i(0,"div",6),o(1,"Cargando..."),t())}function D(n,a){if(n&1&&(i(0,"div",7),o(1),t()),n&2){let e=c();r(),l(e.error)}}function V(n,a){if(n&1){let e=f();i(0,"tr")(1,"td"),o(2),t(),i(3,"td"),o(4),t(),i(5,"td"),o(6),t(),i(7,"td")(8,"span"),o(9),t()(),i(10,"td")(11,"button",11),o(12," Ver "),t(),i(13,"button",12),o(14," Editar "),t(),i(15,"button",13),x("click",function(){let F=p(e).$implicit,N=c(2);return b(N.deleteBodega(F.id))}),o(16," Eliminar "),t()()()}if(n&2){let e=a.$implicit;r(2),l(e.id),r(2),l(e.nombre),r(2),l(e.ubicacion||"-"),r(2),_(e.activo?"badge-success":"badge-danger"),r(),E(" ",e.activo?"Activo":"Inactivo"," "),r(2),d("routerLink",g(8,T,e.id)),r(2),d("routerLink",g(10,w,e.id))}}function A(n,a){if(n&1&&(i(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th"),o(5,"ID"),t(),i(6,"th"),o(7,"Nombre"),t(),i(8,"th"),o(9,"Ubicaci\xF3n"),t(),i(10,"th"),o(11,"Estado"),t(),i(12,"th"),o(13,"Acciones"),t()()(),i(14,"tbody"),m(15,V,17,12,"tr",10),t()()()),n&2){let e=c();r(15),d("ngForOf",e.bodegas)}}var k=class n{constructor(a){this.bodegaService=a}bodegas=[];loading=!1;error=null;ngOnInit(){this.loadBodegas()}loadBodegas(){this.loading=!0,this.bodegaService.getAll().subscribe({next:a=>{this.bodegas=a,this.loading=!1},error:a=>{this.error="Error al cargar bodegas",this.loading=!1,console.error(a)}})}deleteBodega(a){confirm("\xBFEst\xE1 seguro de eliminar esta bodega?")&&this.bodegaService.delete(a).subscribe({next:()=>{this.loadBodegas()},error:e=>{this.error="Error al eliminar bodega",console.error(e)}})}static \u0275fac=function(e){return new(e||n)(u(y))};static \u0275cmp=v({type:n,selectors:[["app-bodegas-list"]],decls:9,vars:5,consts:[[1,"container"],[1,"header"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],["class","loading",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"loading"],[1,"alert","alert-error"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-info",3,"routerLink"],[1,"btn","btn-sm","btn-warning",3,"routerLink"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Bodegas"),t(),i(4,"button",2),o(5," Nueva Bodega "),t()(),m(6,M,2,0,"div",3)(7,D,2,1,"div",4)(8,A,16,1,"div",5),t()),e&2&&(r(4),d("routerLink",S(4,O)),r(2),d("ngIf",s.loading),r(),d("ngIf",s.error),r(),d("ngIf",!s.loading&&!s.error))},dependencies:[I,B,h,L,C],encapsulation:2})};export{k as BodegasListComponent};
