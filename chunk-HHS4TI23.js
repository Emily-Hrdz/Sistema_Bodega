import{a as k}from"./chunk-YJAF4Q5N.js";import"./chunk-6OBKXAVN.js";import{d as y}from"./chunk-ZN2XXCIA.js";import{$a as b,Fa as g,Ib as h,Ja as C,Jb as S,Lb as I,Ua as c,Va as i,Wa as t,Y as u,Z as f,ab as _,bb as m,gb as x,hb as n,ib as d,jb as E,ua as o,za as v}from"./chunk-CFCTFSSM.js";function w(l,r){if(l&1&&(i(0,"div",7),n(1),t()),l&2){let e=m();o(),d(e.error)}}function T(l,r){l&1&&(i(0,"div",8),n(1,"Cargando..."),t())}function V(l,r){l&1&&(i(0,"div",9),n(1," No hay clientes registrados "),t())}function N(l,r){if(l&1){let e=b();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td")(10,"span"),n(11),t()(),i(12,"td",12)(13,"button",13),_("click",function(){let s=u(e).$implicit,p=m(2);return f(p.onView(s.id))}),n(14," Ver "),t(),i(15,"button",14),_("click",function(){let s=u(e).$implicit,p=m(2);return f(p.onEdit(s.id))}),n(16," Editar "),t(),i(17,"button",15),_("click",function(){let s=u(e).$implicit,p=m(2);return f(p.onDelete(s.id))}),n(18," Eliminar "),t()()()}if(l&2){let e=r.$implicit;o(2),d(e.codigo),o(2),d(e.nombre),o(2),d(e.email||"-"),o(2),d(e.telefono||"-"),o(2),x(e.activo?"badge-success":"badge-danger"),o(),E(" ",e.activo?"Activo":"Inactivo"," ")}}function F(l,r){if(l&1&&(i(0,"table",10)(1,"thead")(2,"tr")(3,"th"),n(4,"C\xF3digo"),t(),i(5,"th"),n(6,"Nombre"),t(),i(7,"th"),n(8,"Email"),t(),i(9,"th"),n(10,"Tel\xE9fono"),t(),i(11,"th"),n(12,"Estado"),t(),i(13,"th"),n(14,"Acciones"),t()()(),i(15,"tbody"),C(16,N,19,7,"tr",11),t()()),l&2){let e=m();o(16),c("ngForOf",e.clientes)}}var L=class l{constructor(r,e){this.clienteService=r;this.router=e}clientes=[];loading=!1;error=null;ngOnInit(){this.loadClientes()}loadClientes(){this.loading=!0,this.clienteService.getAll().subscribe({next:r=>{this.clientes=r,this.loading=!1},error:r=>{this.error="Error al cargar clientes",this.loading=!1,console.error(r)}})}onCreate(){this.router.navigate(["/clientes/nuevo"])}onView(r){this.router.navigate(["/clientes",r])}onEdit(r){this.router.navigate(["/clientes",r,"edit"])}onDelete(r){confirm("\xBFEst\xE1 seguro de eliminar este cliente?")&&this.clienteService.delete(r).subscribe({next:()=>{this.loadClientes()},error:e=>{this.error="Error al eliminar cliente",console.error(e)}})}static \u0275fac=function(e){return new(e||l)(v(k),v(y))};static \u0275cmp=g({type:l,selectors:[["app-clientes-list"]],decls:10,vars:4,consts:[[1,"container"],[1,"header"],[1,"btn","btn-primary",3,"click"],["class","alert alert-error",4,"ngIf"],["class","loading",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","table",4,"ngIf"],[1,"alert","alert-error"],[1,"loading"],[1,"empty-state"],[1,"table"],[4,"ngFor","ngForOf"],[1,"actions"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Clientes"),t(),i(4,"button",2),_("click",function(){return a.onCreate()}),n(5," Nuevo Cliente "),t()(),C(6,w,2,1,"div",3)(7,T,2,0,"div",4)(8,V,2,0,"div",5)(9,F,17,1,"table",6),t()),e&2&&(o(6),c("ngIf",a.error),o(),c("ngIf",a.loading),o(),c("ngIf",!a.loading&&a.clientes.length===0),o(),c("ngIf",!a.loading&&a.clientes.length>0))},dependencies:[I,h,S],encapsulation:2})};export{L as ClientesListComponent};
