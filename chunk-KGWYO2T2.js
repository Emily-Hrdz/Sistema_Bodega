import{a as O}from"./chunk-GANOPUXI.js";import{b as E,c as s,d as w,e as I,f as L,h as N,i as k,o as T,p as D}from"./chunk-KK4GU3FI.js";import"./chunk-YCMZOG5D.js";import{e as S,f as P,j as y}from"./chunk-3IEEZZYB.js";import{Fa as b,Ib as F,Ja as d,Kb as M,Ua as p,Va as t,Wa as i,Xa as v,ab as h,bb as _,fb as x,hb as l,jb as C,ua as r,za as f}from"./chunk-BGDAOEK3.js";function z(n,a){n&1&&(t(0,"span"),l(1,"El email es requerido"),i())}function R(n,a){n&1&&(t(0,"span"),l(1,"Email inv\xE1lido"),i())}function G(n,a){if(n&1&&(t(0,"div",13),d(1,z,2,0,"span",14)(2,R,2,0,"span",14),i()),n&2){let o,e,m=_();r(),p("ngIf",(o=m.loginForm.get("email"))==null||o.errors==null?null:o.errors.required),r(),p("ngIf",(e=m.loginForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function j(n,a){n&1&&(t(0,"span"),l(1,"La contrase\xF1a es requerida"),i())}function A(n,a){n&1&&(t(0,"span"),l(1,"M\xEDnimo 6 caracteres"),i())}function B(n,a){if(n&1&&(t(0,"div",13),d(1,j,2,0,"span",14)(2,A,2,0,"span",14),i()),n&2){let o,e,m=_();r(),p("ngIf",(o=m.loginForm.get("password"))==null||o.errors==null?null:o.errors.required),r(),p("ngIf",(e=m.loginForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}function V(n,a){if(n&1&&(t(0,"div",13),l(1),i()),n&2){let o=_();r(),C(" ",o.error," ")}}var q=class n{constructor(a,o,e){this.fb=a;this.authService=o;this.router=e;this.loginForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]]})}loginForm;loading=!1;error="";onSubmit(){this.loginForm.invalid||(this.loading=!0,this.error="",this.authService.login(this.loginForm.value).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:a=>{this.error=a.error?.message||"Error al iniciar sesi\xF3n",this.loading=!1}}))}static \u0275fac=function(o){return new(o||n)(f(T),f(O),f(S))};static \u0275cmp=b({type:n,selectors:[["app-login"]],decls:25,vars:10,consts:[[1,"login-container"],[1,"login-card"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","placeholder","tu@email.com"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["type","submit",1,"btn-primary",3,"disabled"],[1,"register-link"],["routerLink","/register"],[1,"error-message"],[4,"ngIf"]],template:function(o,e){if(o&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),l(3,"Iniciar Sesi\xF3n"),i(),t(4,"p",2),l(5,"Sistema de Inventario Kardex"),i(),t(6,"form",3),h("ngSubmit",function(){return e.onSubmit()}),t(7,"div",4)(8,"label",5),l(9,"Email"),i(),v(10,"input",6),d(11,G,3,2,"div",7),i(),t(12,"div",4)(13,"label",8),l(14,"Contrase\xF1a"),i(),v(15,"input",9),d(16,B,3,2,"div",7),i(),d(17,V,2,1,"div",7),t(18,"button",10),l(19),i()(),t(20,"div",11)(21,"p"),l(22,"\xBFNo tienes cuenta? "),t(23,"a",12),l(24,"Reg\xEDstrate aqu\xED"),i()()()()()),o&2){let m,u,g,c;r(6),p("formGroup",e.loginForm),r(4),x("error",((m=e.loginForm.get("email"))==null?null:m.invalid)&&((m=e.loginForm.get("email"))==null?null:m.touched)),r(),p("ngIf",((u=e.loginForm.get("email"))==null?null:u.invalid)&&((u=e.loginForm.get("email"))==null?null:u.touched)),r(4),x("error",((g=e.loginForm.get("password"))==null?null:g.invalid)&&((g=e.loginForm.get("password"))==null?null:g.touched)),r(),p("ngIf",((c=e.loginForm.get("password"))==null?null:c.invalid)&&((c=e.loginForm.get("password"))==null?null:c.touched)),r(),p("ngIf",e.error),r(),p("disabled",e.loginForm.invalid||e.loading),r(),C(" ",e.loading?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," ")}},dependencies:[M,F,D,L,E,w,I,N,k,y,P],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px;width:100%;max-width:400px;box-shadow:0 10px 40px #0000001a}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-size:28px;color:#333;text-align:center}.login-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0 0 32px;color:#666;text-align:center;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#e74c3c}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;margin-top:8px}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.register-link[_ngcontent-%COMP%]{margin-top:24px;text-align:center;font-size:14px;color:#666}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{q as LoginComponent};
